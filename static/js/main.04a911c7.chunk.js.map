{"version":3,"sources":["components/Home.js","components/Blog.js","components/BlogPost.js","components/BlogForm.js","components/LoginForm.js","components/NavBar.js","App.js","index.js"],"names":["Home","props","useState","posts","setPosts","selectedPost","setSelectedPost","useEffect","fetch","method","then","res","json","reverse","length","selectedIndex","Math","floor","random","className","style","textAlign","fontSize","margin","to","_id","title","dangerouslySetInnerHTML","__html","post","Blog","token","setToken","tempToken","localStorage","getItem","lengths","map","value","index","DateTime","fromISO","postdate","toFormat","BlogPost","setPost","commentsList","setCommentsList","message","setMessage","id","useParams","deleted","setDeleted","loadComments","deletePost","e","preventDefault","console","log","headers","mode","status","push","checkDeleted","marginBottom","marginTop","onClick","cursor","marginRight","onSubmit","body","JSON","stringify","comment","name","required","onChange","target","type","comment_id","BlogForm","setTitle","loggedIn","setLoggedIn","posted","setPosted","refresh","setRefresh","blogData","setBlogData","loginCheck","postCheck","refreshCheck","removeItem","htmlFor","minWidth","apiKey","process","TINY_KEY","onEditorChange","content","editor","initialValue","init","height","menubar","plugins","toolbar","LoginForm","user","setUser","password","setPassword","error","setError","setItem","setLogin","username","placeholder","NavBar","App","path","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.04a911c7.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport '../styles/reset.css'\nimport '../styles/index.css';\n\nfunction Home(props) {\n    const [posts, setPosts] = useState([]);\n    const [selectedPost, setSelectedPost] = useState(-1);\n\n    useEffect(()=> {\n        fetch('https://quiet-retreat-88465.herokuapp.com/blog', {\n            method: 'GET'\n        })\n        .then(res => res.json())\n        .then(res => {setPosts(res.reverse())});\n    }, []);\n\n    useEffect(() => {\n        if(posts.length > 0) {\n            const selectedIndex = Math.floor(Math.random() * posts.length);\n            setSelectedPost(selectedIndex);\n        }\n    }, [posts])\n\n    return (\n        <div className=\"content flex-row\">\n         \n         <div ><p style={{textAlign:'center',fontSize:\"3vw\", margin:\"2vh 0\"}}>Recent Posts</p>\n            {selectedPost !== -1 ? \n            \n            <ul className='recent-posts'>\n                <li><Link to={'/blog/'+posts[0]._id}>{posts[0].title}</Link></li>\n                <li><Link to={'/blog/'+posts[1]._id}>{posts[1].title}</Link></li>\n                <li><Link to={'/blog/'+posts[2]._id}>{posts[2].title}</Link></li></ul>\n            :\n                    \"loading...\"\n            }</div>\n         \n         \n            <div>\n            <p style={{textAlign:'center',fontSize:\"3vw\", margin:\"2vh 0\"}}>Random Post</p>\n            <div className='post' style={{textAlign:'flexStart'}}>{selectedPost !== -1 ? <Link to={'/blog/' + posts[selectedPost]._id}><div><p>{posts[selectedPost].title}</p><p dangerouslySetInnerHTML={{__html: posts[selectedPost].post}}></p></div></Link> : <p>\"Loading\"</p>}</div>\n            \n            </div>\n            \n        </div>\n    )\n}\n\nexport default Home;","import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport '../styles/reset.css'\nimport '../styles/index.css'\nimport {DateTime} from \"luxon\";\n\nfunction Blog(props) {\n    const [token, setToken] = useState('');\n    const [posts, setPosts] = useState([]);\n\n    useEffect(()=> {\n        const tempToken = localStorage.getItem('token');\n        setToken(tempToken);    \n\n        \n        fetch('https://quiet-retreat-88465.herokuapp.com/blog', {\n            method: 'GET'\n        })\n        .then(res => res.json())\n        .then(res => {setPosts(res.reverse())});\n    }, []);\n\n    useEffect(() => {\n        if(token !== '') {\n        }\n    }, [token]);\n\n\n    return (\n        <div className=\"content\">\n            {posts.lengths === 0 ? <div>Loading posts</div> : posts.map((value, index) => {\n                \n                return <Link to={'/blog/'+value._id} key={value._id}><div className=\"post\">\n                    <p className='title'>{value.title}</p>\n                    <p>Posted {DateTime.fromISO(value.postdate).toFormat('LLL dd, yyyy')}</p>\n                    <hr/>\n                    <div className=\"message\" dangerouslySetInnerHTML={{__html: value.post}}/>\n                    </div>\n                </Link>\n                \n            })}\n        </div>\n    )\n}\n\nexport default Blog;","import React, { useEffect, useState } from \"react\";\nimport { Redirect, useParams, Link } from \"react-router-dom\";\nimport '../styles/reset.css';\nimport '../styles/index.css';\nimport { DateTime } from \"luxon\";\n\nfunction BlogPost(props) {\n    const [post, setPost] = useState();\n    const [commentsList, setCommentsList] = useState([]);\n    const [message, setMessage] = useState(\"\");\n    const {id} = useParams();\n    const [token, setToken] = useState('');\n    const [deleted, setDeleted] = useState(false);\n\n    useEffect(()=> {\n        const tempToken = localStorage.getItem('token');\n        if (tempToken !== null) {\n            setToken(tempToken);\n        }\n\n        fetch('https://quiet-retreat-88465.herokuapp.com/blog/'+id, {\n            method: 'GET'\n        })\n        .then(res => res.json())\n        .then(res => {setPost(res)});\n\n        loadComments();\n    }, []);\n\n    const loadComments = () => {\n        fetch('https://quiet-retreat-88465.herokuapp.com/blog/'+id+'/comments', {\n            method: 'GET'\n        })\n        .then(res => res.json())\n        .then(res => {setCommentsList(res)});\n    }\n\n    useEffect(()=> {\n    }, [post]);\n\n    function submitForm(e) {\n        e.preventDefault();\n        console.log(message);\n        fetch('https://quiet-retreat-88465.herokuapp.com/blog/'+id, {\n            method: 'POST',\n            body: JSON.stringify({comment: message}),\n            headers: { 'Content-Type': 'application/json' },\n            mode: 'cors'\n        })\n        .then(res=> {\n            if(res.status === 200) {\n                loadComments();\n            }\n        })\n    }\n\n    const deletePost = (e) => {\n        e.preventDefault();\n        console.log(message);\n        fetch('https://quiet-retreat-88465.herokuapp.com/blog/'+id, {\n            method: 'DELETE',\n            headers: { 'Authorization' : 'Bearer ' + token },\n            mode: 'cors'\n        })\n        .then(res=> {\n            if(res.status === 200) {\n                setDeleted(true);\n            }\n        })\n    }\n\n    const checkDeleted = () => {\n        if(deleted) {\n            return <Redirect push to='/blog'/>\n        }\n    }\n\n    const deleteComment = (comment_id) => {\n        console.log(message);\n        fetch('https://quiet-retreat-88465.herokuapp.com/blog/'+id+\"/comment/\"+comment_id, {\n            method: 'DELETE',\n            headers: { 'Authorization' : 'Bearer ' + token },\n            mode: 'cors'\n        })\n        .then(res=> {\n            if(res.status === 200) {\n                loadComments();\n            }\n        })\n    }\n\n    return (\n        <div className=\"content\">\n            {checkDeleted()}\n           {typeof post === 'undefined' ? \"Loading\" : post.map((value) => {\n               return <div key={id} className='post'>\n                   <h1 style={{marginBottom: \"2vh\"}}>{value.title}</h1>\n                   <h2>Posted {DateTime.fromISO(value.postdate).toFormat('LLL dd, yyyy')}</h2>\n               <hr/><p className='message' dangerouslySetInnerHTML={{__html: value.post}}></p>\n               <div className='flex-row' style={{marginTop: \"4vh\"}}>\n                   {token === '' ? null : <p onClick={deletePost} style={{cursor:\"pointer\", marginRight:\"2vw\"}}>Delete Post</p>}\n               {token === '' ? null : <Link to={`/blog/${id}/edit`}>Edit Post</Link>}</div></div>\n           })}\n           <form onSubmit={submitForm}>\n               <textarea name='comment' id=\"comment-box\" required onChange={e => setMessage(e.target.value)}></textarea><br/>\n               <input type='submit' value='Post Comment'></input>\n           </form>\n           <div className='commentArea'>\n            <p style={{textAlign:\"center\", marginTop:\"3vh\"}}>Comments</p>\n            <hr></hr>\n            {typeof commentsList === 'undefined' ? \"Loading\" : commentsList.map((value) => {\n                return <div className=\"comment\" key={value._id}>\n                    <p>{value.message}</p>\n                    {token === '' ? null : <button style={{cursor:\"pointer\"}} value={value._id} onClick={() => {deleteComment(value._id)}}>Delete</button>}         \n                </div>\n            })}\n           </div>\n           \n        </div>\n    )\n}\n\nexport default BlogPost;","import React, { useEffect, useState } from \"react\";\nimport { Redirect, useParams } from 'react-router-dom';\nimport { Editor } from '@tinymce/tinymce-react';\nimport '@tinymce/tinymce-react'\nimport '../styles/index.css'\n\nfunction BlogForm(props) {\n    const [token, setToken] = useState('');\n    const [post, setPost] = useState('');\n    const [title, setTitle] = useState('');\n    const [loggedIn, setLoggedIn] = useState(true);\n    const [posted, setPosted] = useState(false);\n    const {id} = useParams();\n    const [refresh, setRefresh] = useState(false);\n\n    const [blogData, setBlogData] = useState();\n\n    useEffect(()=> {\n        if(id) {\n            fetch('https://quiet-retreat-88465.herokuapp.com/blog/' + id, {\n                method: 'GET',\n                mode: 'cors'\n            })\n            .then(res => {\n                if(res.status === 200) {\n                    return res.json();\n                }    \n            })\n            .then(res => setBlogData(res))\n        }\n\n        const tempToken = localStorage.getItem('token');\n        if(tempToken === null) {\n            setLoggedIn(false);\n        }\n        else {\n            setToken(tempToken);\n        }\n    }, []);\n\n    useEffect(() => {\n        if(blogData) {\n            console.log(blogData)\n        }\n    }, [blogData])\n\n    useEffect(() => {\n        if(token !== '') {\n        }\n    }, [token]);\n\n    function postBlogPost(e) {\n        e.preventDefault();\n        fetch('https://quiet-retreat-88465.herokuapp.com/blog', {\n            method: 'POST',\n            body: JSON.stringify({post:post, title:title}),\n            headers: { 'Content-Type': 'application/json',\n            'Authorization' : 'Bearer ' + token },\n            mode: 'cors'\n        })\n        .then(res => {\n            if(res.status === 401) { // token expired\n                localStorage.removeItem('token');\n            }\n            if(res.status === 200) {\n                setPosted(true);\n            }    \n        })\n    }\n\n    const loginCheck = () => {\n        if(!loggedIn) \n            return <Redirect push to='/login'/>\n    }\n\n    const postCheck = () => {\n        if(posted) {\n            return <Redirect push to='/blog'/>\n        }\n    }\n\n    const refreshCheck = () => {\n        if(refresh) {\n            return <Redirect push to={`/blog/${id}`}/>;\n        }\n    }\n\n    const updateBlogPost = (e) => {\n        e.preventDefault();\n        fetch('https://quiet-retreat-88465.herokuapp.com/blog/'+id, {\n            method: 'PUT',\n            body: JSON.stringify({post:post, title:title}),\n            headers: { 'Content-Type': 'application/json',\n            'Authorization' : 'Bearer ' + token },\n            mode: 'cors'\n        })\n        .then(res => {\n            if(res.status === 401) { // token expired\n                localStorage.removeItem('token');\n            }\n            if(res.status === 200) {\n                if(blogData) {\n                    setRefresh(true);\n                } else {\n                    setPosted(true);\n                }\n            }    \n        })\n    }\n\n    return (\n        <div className=\"content\">\n            {loginCheck()}\n            {postCheck()}\n            {refreshCheck()}\n            <h1>Create A Post</h1>\n            <form className=\"flex-column\" onSubmit={blogData ? updateBlogPost : postBlogPost}>\n                {blogData ? \n                    <div>\n                        <label htmlFor='prev-title'>Previous Title:</label><br/>\n                        <input type='text' style={{minWidth:\"30vw\", marginBottom:\"3vh\"}} value={blogData[0].title} required={true}></input>\n                    </div>\n                : null}\n                    <div>\n                    <label htmlFor='title'>Title:</label><br/>\n                    <input type='text' style={{minWidth:\"30vw\", marginBottom:\"3vh\"}} required={true} onChange={e => setTitle(e.target.value)}></input>\n                    </div>\n                <Editor apiKey={process.env.TINY_KEY}\n                    onEditorChange={(content, editor) => setPost(content)}\n                    initialValue={blogData ? blogData[0].post : \"loading\"}\n                    init={{\n                    height: 500,\n                    menubar: false,\n                    plugins: [\n                        'advlist autolink lists link image charmap print preview anchor',\n                        'searchreplace visualblocks code fullscreen',\n                        'insertdatetime media table paste code help wordcount'\n                    ],\n                    toolbar:\n                        'undo redo | formatselect | bold italic backcolor | \\\n                        alignleft aligncenter alignright alignjustify | \\\n                        bullist numlist outdent indent | removeformat | help | image'\n                    }}\n                />\n                <input type='submit' value='submit'></input>\n            </form>\n        </div>\n    )\n}\n\nexport default BlogForm;","import React, { useEffect, useState } from \"react\";\nimport '../styles/index.css';\nimport { Redirect } from 'react-router-dom';\n\nfunction LoginForm(props) {\n    const [user, setUser] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [token, setToken] = useState('');\n    const [error, setError] = useState(false);\n    const [loggedIn, setLoggedIn] = useState(false);\n\n    function login(e){\n        e.preventDefault();\n        fetch('https://quiet-retreat-88465.herokuapp.com/login', {\n            method: 'POST',\n            body: JSON.stringify({username: user, password: password}),\n            headers: { 'Content-Type': 'application/json' },\n            mode: 'cors'\n        })\n        .then(res => {\n            if(res.status === 400){\n                localStorage.removeItem('token');\n                setError(true);\n            }\n            else {\n                return res.json()\n            }\n        })\n        .then(res => {\n            if(res) {\n                setToken(res.token);\n            }\n        })\n        \n    }\n\n    useEffect(() => {\n        if(token !== '') {\n            localStorage.setItem('token', token);\n            props.setLogin(true);\n            setLoggedIn(true);\n        }\n    }, [token]);\n\n    const loginCheck = () => {\n        if(loggedIn) {\n            return <Redirect push to={`/blog`}/>;\n        }\n    }\n\n    return (\n        <div className=\"content\">\n            {loginCheck()}\n            <h1>Login Form</h1>\n            <form onSubmit={login} className='login-form'>\n                <input type=\"text\" \n                name=\"username\" \n                required\n                placeholder='username'\n                onChange={e => setUser(e.target.value)}></input>\n                <input type=\"password\" \n                name=\"password\"\n                placeholder='password'\n                required\n                onChange={e => setPassword(e.target.value)}></input>\n                <input type=\"submit\" value='login'></input>\n            </form>\n            {error ? <p>Failed to log in. Please try again.</p> : null}\n        </div>\n    )\n}\n\nexport default LoginForm;","import {NavLink } from \"react-router-dom\";\nimport React, { useEffect } from \"react\";\nimport '../styles/index.css';\n\nconst NavBar = (props) => {\n    useEffect(() => {\n    }, [])\n\n    function logOut() {\n        localStorage.removeItem('token');\n        props.setLogin(false);\n    }\n\n    return (\n        <nav>\n            <div className='nav-left'>\n                <ul className='flex-row'>\n                    <li><NavLink to='/home'>Home</NavLink></li>\n                    <li><NavLink to='/blog'>Blog</NavLink></li>\n                </ul>\n            </div>\n            <div className='nav-right'>\n                <ul className='flex-row'>\n                    {!props.loggedIn ? <li><NavLink to='/login'>Login</NavLink></li> : <li onClick={logOut} style={{cursor:'pointer'}}>Log Out</li>}\n                    {props.loggedIn ? <li><NavLink to='/blog/create'>Create</NavLink></li> : null}\n                </ul>\n            </div>\n        </nav>\n    )\n}\n\nexport default NavBar;","import React, { useEffect, useState } from \"react\";\nimport Home from './components/Home';\nimport Blog from './components/Blog';\nimport BlogPost from './components/BlogPost';\nimport BlogForm from './components/BlogForm';\nimport LoginForm from './components/LoginForm';\nimport NavBar from './components/NavBar';\nimport {\n  BrowserRouter,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\n\nfunction App() {\n  const [loggedIn, setLoggedIn] = useState(false);\n  useEffect(() => {\n    if(localStorage.getItem('token') !== null) {\n      setLoggedIn(true);\n    }\n  }, []);\n  \n  function setLogin(status) {\n    setLoggedIn(status);\n  }\n\n\n  useEffect(() => {\n  }, [loggedIn])\n\n  return (\n    <div className=\"App\">\n      <BrowserRouter>\n      <NavBar setLogin={setLogin} loggedIn={loggedIn}/>\n        <Switch>\n          <Route path='/' exact ><Redirect to='/home'/></Route>\n          <Route path='/home' exact><Home/></Route>\n          <Route path='/blog' exact><Blog /></Route>\n          <Route path='/blog/create' exact><BlogForm /></Route>\n          <Route path='/blog/:id/edit' exact><BlogForm /></Route>\n          <Route path='/blog/:id' exact><BlogPost /></Route>\n          <Route path='/login' exact><LoginForm setLogin={setLogin}/></Route>\n        </Switch>\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}
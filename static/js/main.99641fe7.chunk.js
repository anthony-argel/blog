(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{13:function(e,t,s){},37:function(e,t,s){"use strict";s.r(t);s(13);var a=s(2),n=s.n(a),c=s(21),i=s.n(c),l=s(4),o=s(5),r=s(11),j=s(1);var d=function(e){var t=Object(a.useState)([]),s=Object(l.a)(t,2),n=s[0],c=s[1],i=Object(a.useState)(-1),d=Object(l.a)(i,2),b=d[0],u=d[1];return Object(a.useEffect)((function(){""!==e.apiURL&&fetch(e.apiURL+"/blog",{method:"GET"}).then((function(e){if(console.log(e),200===e.status)return e.json()})).then((function(e){c(e.reverse())}))}),[e.apiURL]),Object(a.useEffect)((function(){if(n.length>0){var e=Math.floor(Math.random()*n.length);u(e)}}),[n]),Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)("div",{className:"row d-flex justify-content-evenly mb-3 ",children:[Object(j.jsxs)("div",{className:"col-12 col-lg-6",children:[Object(j.jsx)("h2",{className:"h2 text-center",children:"Random Post"}),Object(j.jsx)("div",{children:-1!==b?Object(j.jsx)("div",{className:"card shadow-lg p-2",children:Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("h5",{className:"card-title fs-2",children:n[b].title}),Object(j.jsxs)("p",{children:["Posted ",r.DateTime.fromISO(n[b].postdate).toFormat("LLL dd, yyyy")]}),Object(j.jsx)("hr",{}),Object(j.jsx)("p",{className:"card-text fs-5 lh-base",dangerouslySetInnerHTML:{__html:n[b].post}}),n[b].tags.length>0?Object(j.jsxs)("div",{children:[Object(j.jsx)("hr",{}),Object(j.jsxs)("p",{children:["Tags:",n[b].tags.map((function(e,t){return Object(j.jsxs)("span",{children:[e.tagname,t+1!==n[b].tags.length?",":null]},e._id)}))]})]}):null,Object(j.jsx)(o.b,{to:"/blog/"+n[b]._id,className:"stretched-link"})]})}):Object(j.jsx)("div",{className:"spinner-border text-success",role:"status",children:Object(j.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})]}),Object(j.jsx)("div",{className:"col-12 col-lg-3 ",children:Object(j.jsxs)("div",{className:"",children:[Object(j.jsx)("p",{className:"fs-2",children:"Recent Posts"}),-1!==b?Object(j.jsxs)("ul",{className:"recent-posts lh-lg shadow-lg p-5",style:{listStyleType:"none"},children:[Object(j.jsx)("li",{children:Object(j.jsx)(o.b,{to:"/blog/"+n[0]._id,children:n[0].title})}),Object(j.jsx)("hr",{}),Object(j.jsx)("li",{children:Object(j.jsx)(o.b,{to:"/blog/"+n[1]._id,children:n[1].title})}),Object(j.jsx)("hr",{}),Object(j.jsx)("li",{children:Object(j.jsx)(o.b,{to:"/blog/"+n[2]._id,children:n[2].title})})]}):Object(j.jsx)("div",{className:"spinner-border text-success",role:"status",children:Object(j.jsx)("span",{className:"visually-hidden",children:"Loading..."})})]})})]})})};var b=function(e){var t=Object(a.useState)(""),s=Object(l.a)(t,2),n=s[0],c=s[1],i=Object(a.useState)([]),d=Object(l.a)(i,2),b=d[0],u=d[1],h=Object(a.useState)([]),m=Object(l.a)(h,2),O=m[0],p=m[1];return Object(a.useEffect)((function(){var t=localStorage.getItem("token");c(t),""!==e.apiURL&&(fetch(e.apiURL+"/blog",{method:"GET",mode:"cors"}).then((function(e){return e.json()})).then((function(e){u(e.reverse())})),fetch(e.apiURL+"/tags",{method:"GET",mode:"cors"}).then((function(e){return e.json()})).then((function(e){return p(e.tags)})))}),[e.apiURL]),Object(a.useEffect)((function(){}),[n]),Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)("div",{className:"row d-flex justify-content-around",children:[Object(j.jsx)("div",{className:"col-12 col-lg-3 my-3",children:O.length>0?Object(j.jsxs)("div",{className:"card shadow-lg p-3",children:[Object(j.jsx)("p",{className:"fs-2 text-center",children:"Tags"}),Object(j.jsx)("hr",{}),O.map((function(e){return Object(j.jsx)(o.b,{to:"/tag/"+e._id,className:"lh-lg fs-5",children:e.name},e._id)}))]}):null}),Object(j.jsx)("div",{className:"col-12 col-lg-8",children:b.length>0?b.map((function(e,t){return Object(j.jsx)("div",{className:"card my-3 p-3 shadow-lg",children:Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("h5",{className:"card-title fs-1",children:e.title}),Object(j.jsxs)("p",{children:["Posted ",r.DateTime.fromISO(e.postdate).toFormat("LLL dd, yyyy")]}),e.tags.length>0?Object(j.jsxs)("div",{children:[Object(j.jsx)("hr",{}),Object(j.jsxs)("p",{children:["Tags:",e.tags.map((function(t,s){return Object(j.jsxs)("span",{children:[t.tagname,s+1!==e.tags.length?", ":null]},t._id)}))]})]}):null,Object(j.jsx)("hr",{}),Object(j.jsx)("p",{className:"card-text lh-base fs-5",dangerouslySetInnerHTML:e.post.length>200?{__html:e.post.substr(0,200)+"..."}:{__html:e.post}}),Object(j.jsx)(o.b,{to:"/blog/"+e._id,className:"stretched-link"},e._id)]})},e._id)})):Object(j.jsx)("div",{className:"spinner-border text-success",role:"status",children:Object(j.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})]})})},u=s(6),h=s(23);var m=function(e){var t=Object(a.useState)(),s=Object(l.a)(t,2),n=s[0],c=s[1],i=Object(a.useState)([]),d=Object(l.a)(i,2),b=d[0],m=d[1],O=Object(a.useState)(""),p=Object(l.a)(O,2),x=p[0],f=p[1],g=Object(u.h)().id,v=Object(a.useState)(""),y=Object(l.a)(v,2),N=y[0],L=y[1],S=Object(a.useState)(!1),T=Object(l.a)(S,2),R=T[0],U=T[1],E=Object(a.useState)([]),_=Object(l.a)(E,2),k=_[0],C=_[1],I=Object(a.useState)(!1),w=Object(l.a)(I,2),D=w[0],P=w[1];Object(a.useEffect)((function(){if(""!==e.apiURL){var t=localStorage.getItem("token");null!==t&&L(t),fetch(e.apiURL+"/blog/"+g,{method:"GET"}).then((function(e){return e.json()})).then((function(e){c(e)})),fetch(e.apiURL+"/blog/"+g+"/comments",{method:"GET"}).then((function(e){return e.json()})).then((function(e){m(e.reverse())})),fetch(e.apiURL+"/tags",{method:"GET",mode:"cors"}).then((function(e){return e.json()})).then((function(e){return C(e.tags)}))}}),[e.apiURL,g,D]);var A=function(){""!==e.apiURL&&fetch(e.apiURL+"/blog/"+g+"/comments",{method:"GET"}).then((function(e){return e.json()})).then((function(e){m(e.reverse())}))};Object(a.useEffect)((function(){}),[n]);var B=function(t){t.preventDefault(),""!==e.apiURL&&fetch(e.apiURL+"/blog/"+g,{method:"DELETE",headers:{Authorization:"Bearer "+N},mode:"cors"}).then((function(e){200===e.status&&U(!0)}))};return Object(j.jsxs)("div",{className:"container",children:[function(){if(R)return Object(j.jsx)(u.a,{push:!0,to:"/blog"})}(),Object(j.jsx)("div",{className:"row d-flex justify-content-center ",children:Object(j.jsxs)("div",{className:"col-11 col-lg-8",children:["undefined"===typeof n?Object(j.jsx)("div",{className:"spinner-border text-success",role:"status",children:Object(j.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):n.map((function(t){return Object(j.jsxs)("div",{className:"post",children:[Object(j.jsx)("h1",{className:"h1",style:{marginBottom:"2vh"},children:t.title}),Object(j.jsxs)("h3",{children:["Posted ",r.DateTime.fromISO(t.postdate).toFormat("LLL dd, yyyy")]}),Object(j.jsx)("hr",{}),Object(j.jsx)("p",{className:"message fs-5 lh-base",dangerouslySetInnerHTML:{__html:t.post}}),t.tags.length>0?Object(j.jsxs)("div",{children:[Object(j.jsx)("hr",{}),Object(j.jsxs)("p",{children:["Tags:",t.tags.map((function(s,a){return Object(j.jsxs)("span",{children:[s.tagname,""!==N?Object(j.jsx)(h.a,{onClick:function(t){return function(t,s){t.preventDefault(),""!==e.apiURL&&""!==N&&fetch(e.apiURL+"/blog/"+g+"/tag",{method:"DELETE",headers:{Authorization:"Bearer "+N,"Content-Type":"application/json"},body:JSON.stringify({tagid:s}),mode:"cors"}).then((function(e){return P(!D)}))}(t,s._id)},cursor:"pointer",color:"red"}):null,a+1!==t.tags.length?", ":null]},s._id)}))]})]}):null,Object(j.jsxs)("div",{style:{marginTop:"4vh",display:"flex"},children:[""===N?null:Object(j.jsx)("p",{onClick:B,style:{cursor:"pointer",marginRight:"2vw"},children:"Delete Post"}),""===N?null:Object(j.jsx)(o.b,{to:"/blog/".concat(g,"/edit"),style:{textDecoration:"none",marginRight:"2vw",color:"black"},children:"Edit Post"}),""===N?null:Object(j.jsx)("p",{"data-bs-toggle":"modal","data-bs-target":"#tagModal",style:{cursor:"pointer"},children:"Add Tag"})]})]},g)})),Object(j.jsxs)("form",{onSubmit:function(t){t.preventDefault(),""!==e.apiURL&&fetch(e.apiURL+"/blog/"+g,{method:"POST",body:JSON.stringify({comment:x}),headers:{"Content-Type":"application/json"},mode:"cors"}).then((function(e){200===e.status&&A()}))},children:[Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)("label",{htmlFor:"comment-box",className:"form-label"}),Object(j.jsx)("textarea",{className:"form-control",name:"comment",required:!0,onChange:function(e){return f(e.target.value)},id:"comment-box",rows:"3"})]}),Object(j.jsx)("input",{type:"submit",value:"Post Comment"})]}),Object(j.jsxs)("div",{className:"commentArea",children:[Object(j.jsx)("p",{style:{textAlign:"center",marginTop:"3vh"},children:"Comments"}),Object(j.jsx)("hr",{}),"undefined"===typeof b?"Loading":b.map((function(t){return Object(j.jsxs)("div",{className:"mb-4",children:[Object(j.jsx)("p",{className:"fs-5",children:t.message}),""===N?null:Object(j.jsx)("button",{style:{cursor:"pointer"},value:t._id,onClick:function(){var s;s=t._id,""!==e.apiURL&&""!==N&&fetch(e.apiURL+"/blog/"+g+"/comment/"+s,{method:"DELETE",headers:{Authorization:"Bearer "+N},mode:"cors"}).then((function(e){200===e.status&&A()}))},children:"Delete"})]},t._id)}))]})]})}),Object(j.jsx)("div",{className:"modal fade",id:"tagModal",tabIndex:"-1","aria-labelledby":"tagModalLabel","aria-hidden":"true",children:Object(j.jsx)("div",{className:"modal-dialog",children:Object(j.jsxs)("div",{className:"modal-content",children:[Object(j.jsxs)("div",{className:"modal-header",children:[Object(j.jsx)("h5",{className:"modal-title",id:"tagModalLabel",children:"Tag Form"}),Object(j.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(j.jsx)("div",{className:"modal-body",children:Object(j.jsxs)("form",{onSubmit:function(t){return function(t){if(t.preventDefault(),""!==e.apiURL&&""!==N){for(var s="",a=document.getElementById("tag").value,n=0;n<k.length;n++)if(a===k[n].name){s=k[n]._id;break}if(""!==s){var c={tagid:s,kappa:"kill me"};console.log(s),fetch(e.apiURL+"/blog/"+g+"/tag",{method:"POST",headers:{Authorization:"Bearer "+N,"Content-Type":"application/json"},body:JSON.stringify(c),mode:"cors"}).then((function(e){return P(!D)}))}}}(t)},children:[Object(j.jsx)("input",{list:"tags",className:"mx-3",name:"tag",id:"tag"}),Object(j.jsx)("datalist",{id:"tags",children:k.map((function(e,t){return Object(j.jsx)("option",{"data-tag-id":e._id,value:e.name},e._id)}))}),Object(j.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Add Tag"})]})}),Object(j.jsx)("div",{className:"modal-footer",children:Object(j.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"})})]})})})]})},O=s(17);var p=function(e){var t=Object(a.useState)(""),s=Object(l.a)(t,2),n=s[0],c=s[1],i=Object(a.useState)(""),o=Object(l.a)(i,2),r=o[0],d=o[1],b=Object(a.useState)(""),h=Object(l.a)(b,2),m=h[0],p=h[1],x=Object(a.useState)(!0),f=Object(l.a)(x,2),g=f[0],v=f[1],y=Object(a.useState)(!1),N=Object(l.a)(y,2),L=N[0],S=N[1],T=Object(u.h)().id,R=Object(a.useState)(!1),U=Object(l.a)(R,2),E=U[0],_=U[1],k=Object(a.useState)(),C=Object(l.a)(k,2),I=C[0],w=C[1];return Object(a.useEffect)((function(){if(""!==e.apiURL){T&&fetch(e.apiURL+"/blog/"+T,{method:"GET",mode:"cors"}).then((function(e){if(200===e.status)return e.json()})).then((function(e){return w(e)}));var t=localStorage.getItem("token");null===t?v(!1):c(t)}}),[T,e.apiURL]),Object(a.useEffect)((function(){I&&d(I[0].post)}),[I]),Object(a.useEffect)((function(){}),[n]),Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("div",{className:"row",children:Object(j.jsxs)("div",{className:"col",children:[function(){if(!g)return Object(j.jsx)(u.a,{push:!0,to:"/login"})}(),function(){if(L)return Object(j.jsx)(u.a,{push:!0,to:"/blog"})}(),function(){if(E)return Object(j.jsx)(u.a,{push:!0,to:"/blog/".concat(T)})}(),Object(j.jsx)("h1",{className:"text-center h1",children:I?"Update Post":"Create Post"}),Object(j.jsxs)("form",{onSubmit:I?function(e){e.preventDefault(),fetch("https://quiet-retreat-88465.herokuapp.com/blog/"+T,{method:"PUT",body:JSON.stringify({post:r,title:m}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+n},mode:"cors"}).then((function(e){401===e.status&&localStorage.removeItem("token"),200===e.status&&(I?_(!0):S(!0))}))}:function(e){e.preventDefault(),fetch("https://quiet-retreat-88465.herokuapp.com/blog",{method:"POST",body:JSON.stringify({post:r,title:m}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+n},mode:"cors"}).then((function(e){401===e.status&&localStorage.removeItem("token"),200===e.status&&S(!0)}))},children:[I?Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:"prev-title",children:"Previous Title:"}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{type:"text",style:{minWidth:"30vw",marginBottom:"3vh"},value:I[0].title,required:!0})]}):null,Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:"title",children:"Title:"}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{type:"text",style:{minWidth:"30vw",marginBottom:"3vh"},required:!0,onChange:function(e){return p(e.target.value)}})]}),Object(j.jsx)(O.a,{apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"/blog",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).TINY_KEY,onEditorChange:function(e,t){return d(e)},initialValue:I?I[0].post:"",init:{height:500,menubar:"insert",plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount media"],toolbar:"undo redo | formatselect | bold italic backcolor |                         alignleft aligncenter alignright alignjustify |                         bullist numlist outdent indent | removeformat | help | image | media | link"}}),Object(j.jsx)("input",{type:"submit",value:"submit"})]})]})})})};var x=function(e){var t=Object(a.useState)(""),s=Object(l.a)(t,2),n=s[0],c=s[1],i=Object(a.useState)(""),o=Object(l.a)(i,2),r=o[0],d=o[1],b=Object(a.useState)(""),h=Object(l.a)(b,2),m=h[0],O=h[1],p=Object(a.useState)(!1),x=Object(l.a)(p,2),f=x[0],g=x[1],v=Object(a.useState)(!1),y=Object(l.a)(v,2),N=y[0],L=y[1];return Object(a.useEffect)((function(){""!==m&&(localStorage.setItem("token",m),e.setLogin(!0),L(!0))}),[m]),Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("div",{className:"row d-flex justify-content-center",children:Object(j.jsxs)("div",{className:"col-6",children:[function(){if(N)return Object(j.jsx)(u.a,{push:!0,to:"/blog"})}(),Object(j.jsxs)("form",{onSubmit:function(t){t.preventDefault(),""!==e.apiURL&&fetch(e.apiURL+"/login",{method:"POST",body:JSON.stringify({username:n,password:r}),headers:{"Content-Type":"application/json"},mode:"cors"}).then((function(e){if(400!==e.status)return e.json();localStorage.removeItem("token"),g(!0)})).then((function(e){e&&O(e.token)}))},className:"login-form text-center",style:{outline:"3px solid black",padding:"2vw"},children:[Object(j.jsx)("h1",{className:" h1 mb-3 text-center",children:"Login Form"}),Object(j.jsx)("input",{type:"text",className:"form-control  mb-3",name:"username",required:!0,placeholder:"username",onChange:function(e){return c(e.target.value)}}),Object(j.jsx)("input",{type:"password",className:"form-control mb-3",name:"password",placeholder:"password",required:!0,onChange:function(e){return d(e.target.value)}}),Object(j.jsx)("input",{type:"submit",value:"login"})]}),f?Object(j.jsx)("p",{children:"Failed to log in. Please try again."}):null]})})})},f=function(e){return Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("div",{className:"row d-flex justify-content-center",children:Object(j.jsxs)("div",{className:"col-12 col-lg-8",children:[Object(j.jsxs)("h1",{children:["Results: ",e.posts.length]}),e.posts.length>0?e.posts.map((function(e,t){return Object(j.jsx)("div",{className:"card my-3 p-3 shadow-lg",children:Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("h5",{className:"card-title fs-1",children:e.title}),Object(j.jsxs)("p",{children:["Posted ",r.DateTime.fromISO(e.postdate).toFormat("LLL dd, yyyy")]}),e.tags.length>0?Object(j.jsxs)("div",{children:[Object(j.jsx)("hr",{}),Object(j.jsxs)("p",{children:["Tags:",e.tags.map((function(t,s){return Object(j.jsxs)("span",{children:[t.tagname,s+1!==e.tags.length?", ":null]})}))]})]}):null,Object(j.jsx)("hr",{}),Object(j.jsx)("p",{className:"card-text lh-base fs-5",dangerouslySetInnerHTML:e.post.length>200?{__html:e.post.substr(0,200)+"..."}:{__html:e.post}}),Object(j.jsx)(o.b,{to:"/blog/"+e._id,className:"stretched-link"},e._id)]})},e._id)})):Object(j.jsx)("p",{children:"No results"})]})})})},g=function(e){var t=Object(a.useState)([]),s=Object(l.a)(t,2),n=s[0],c=s[1],i=Object(u.h)().tagid;return Object(a.useEffect)((function(){""!==e.apiURL&&fetch(e.apiURL+"/tag/"+i+"/posts",{method:"GET",mode:"cors"}).then((function(e){return e.json()})).then((function(e){return c(e.posts.reverse())}))}),[e.apiURL,i]),Object(j.jsx)(f,{title:i,posts:n})},v=function(e){var t=Object(a.useState)([]),s=Object(l.a)(t,2),n=s[0],c=s[1],i=Object(u.h)().searchstring;return Object(a.useEffect)((function(){if(""!==e.apiURL&&""!==i){var t=i.split("_").join(" ");fetch(e.apiURL+"/search?query="+t,{method:"GET",mode:"cors"}).then((function(e){return e.json()})).then((function(e){c(e.results)}))}}),[e.apiURL,i]),Object(j.jsx)(f,{title:"Search: "+i.split("_").join(" "),posts:n})},y=s(24),N=function(e){var t=Object(a.useState)(""),s=Object(l.a)(t,2),n=s[0],c=s[1],i=Object(a.useState)(""),r=Object(l.a)(i,2),d=r[0],b=r[1],h=Object(a.useState)(""),m=Object(l.a)(h,2),O=m[0],p=m[1],x=Object(u.g)();return Object(a.useEffect)((function(){""!==localStorage.getItem("token")&&b(localStorage.getItem("token"))}),[]),Object(j.jsxs)("nav",{className:"navbar navbar-light navbar-expand-md shadow mb-5",style:{backgroundColor:"#44b787"},children:[Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)(o.b,{to:"/",className:"navbar-brand",children:"Home"}),Object(j.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navContent","aria-controls":"navContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(j.jsx)("span",{className:"navbar-toggler-icon"})}),Object(j.jsx)("div",{className:"collapse navbar-collapse d-flex justify-content-end",id:"navContent",children:Object(j.jsxs)("ul",{className:"navbar-nav d-flex",children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)("form",{className:"form-inline my-2 my-lg-0 d-flex",onSubmit:function(t){return function(t){t.preventDefault(),""!==e.apiURL&&x.push("/search/"+O.split(" ").join("_"))}(t)},children:[Object(j.jsx)("input",{className:"form-control mr-sm-2 rounded-start",required:!0,type:"text",onChange:function(e){return p(e.target.value)},name:"query",placeholder:"Search","aria-label":"Search"}),Object(j.jsx)("button",{className:"btn btn-outline-success my-2 my-sm-0",type:"submit",style:{backgroundColor:"darkGreen"},children:Object(j.jsx)(y.a,{color:"black"})})]})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(o.b,{to:"/blog",className:"nav-link",children:"Blog"})}),e.loggedIn?Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)("p",{className:"nav-link","data-bs-toggle":"modal","data-bs-target":"#createTagModal",style:{cursor:"pointer",marginBottom:"0"},children:"Add Tag"})}):null,e.loggedIn?Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(o.b,{to:"/blog/create",className:"nav-link",children:"Create"})}):null,e.loggedIn?Object(j.jsx)("li",{onClick:function(){localStorage.removeItem("token"),e.setLogin(!1)},className:"nav-item nav-link",style:{cursor:"pointer"},children:"Log Out"}):Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(o.b,{to:"/login",className:"nav-link",children:"Login"})})]})})]}),Object(j.jsx)("div",{className:"modal fade",id:"createTagModal",tabIndex:"-1","aria-labelledby":"createTagModalLabel","aria-hidden":"true",children:Object(j.jsx)("div",{className:"modal-dialog",children:Object(j.jsxs)("div",{className:"modal-content",children:[Object(j.jsxs)("div",{className:"modal-header",children:[Object(j.jsx)("h5",{className:"modal-title",id:"createTagModalLabel",children:"Tag Form"}),Object(j.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(j.jsx)("div",{className:"modal-body",children:Object(j.jsxs)("form",{children:[""===n?Object(j.jsx)("input",{type:"text",required:!0,onChange:function(e){return c(e.target.value)},defaultValue:""}):Object(j.jsx)("input",{type:"text",required:!0,onChange:function(e){return c(e.target.value)}}),Object(j.jsx)("button",{className:"btn btn-primary",type:"button",onClick:function(t){""!==e.apiURL&&""!==d&&""!==n&&fetch(e.apiURL+"/tag/",{method:"POST",headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"},body:JSON.stringify({name:n}),mode:"cors"}).then((function(e){return c("")}))},children:"Create Tag"})]})}),Object(j.jsx)("div",{className:"modal-footer",children:Object(j.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"})})]})})})]})};var L=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),s=t[0],n=t[1],c=Object(a.useState)(""),i=Object(l.a)(c,2),r=i[0],h=i[1];function O(e){n(e)}return Object(a.useEffect)((function(){h("https://quiet-retreat-88465.herokuapp.com")}),[]),Object(a.useEffect)((function(){""!==r&&null!==localStorage.getItem("token")&&fetch(r+"/verify",{method:"get",headers:{Authorization:"Bearer "+localStorage.getItem("token")},mode:"cors"}).then((function(e){200===e.status?n(!0):(n(!1),localStorage.removeItem("token"))}))}),[r]),Object(a.useEffect)((function(){}),[s]),Object(j.jsx)("div",{className:"App",children:Object(j.jsxs)(o.a,{hashType:"slash",children:[Object(j.jsx)(N,{setLogin:O,apiURL:""===r?"":r,loggedIn:s}),Object(j.jsxs)(u.d,{children:[Object(j.jsx)(u.b,{path:"/",render:function(){return Object(j.jsx)(d,{apiURL:""===r?"":r})},exact:!0}),Object(j.jsx)(u.b,{path:"/search/:searchstring",exact:!0,children:Object(j.jsx)(v,{apiURL:""===r?"":r})}),Object(j.jsx)(u.b,{path:"/blog/",exact:!0,children:Object(j.jsx)(b,{apiURL:""===r?"":r})}),Object(j.jsx)(u.b,{path:"/blog/create",exact:!0,children:Object(j.jsx)(p,{apiURL:""===r?"":r})}),Object(j.jsx)(u.b,{path:"/blog/:id/edit",exact:!0,children:Object(j.jsx)(p,{apiURL:""===r?"":r})}),Object(j.jsx)(u.b,{path:"/blog/:id",exact:!0,children:Object(j.jsx)(m,{apiURL:""===r?"":r})}),Object(j.jsx)(u.b,{path:"/tag/:tagid",exact:!0,children:Object(j.jsx)(g,{apiURL:""===r?"":r})}),Object(j.jsx)(u.b,{path:"/login",exact:!0,children:Object(j.jsx)(x,{apiURL:""===r?"":r,setLogin:O})})]})]})})};i.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(L,{})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.99641fe7.chunk.js.map
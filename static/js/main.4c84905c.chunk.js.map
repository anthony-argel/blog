{"version":3,"sources":["components/Home.js","components/Blog.js","components/BlogPost.js","components/BlogForm.js","components/LoginForm.js","components/NavBar.js","App.js","index.js"],"names":["Home","props","useState","posts","setPosts","selectedPost","setSelectedPost","useEffect","fetch","method","then","res","json","reverse","length","selectedIndex","Math","floor","random","className","title","dangerouslySetInnerHTML","__html","post","to","_id","Blog","token","setToken","tempToken","localStorage","getItem","lengths","map","value","index","DateTime","fromISO","postdate","toFormat","BlogPost","setPost","commentsList","setCommentsList","message","setMessage","id","useParams","deleted","setDeleted","loadComments","deletePost","e","preventDefault","headers","mode","status","push","checkDeleted","style","marginBottom","marginTop","display","onClick","cursor","marginRight","textDecoration","color","onSubmit","body","JSON","stringify","comment","htmlFor","name","required","onChange","target","rows","type","textAlign","comment_id","BlogForm","setTitle","loggedIn","setLoggedIn","posted","setPosted","refresh","setRefresh","blogData","setBlogData","loginCheck","postCheck","refreshCheck","removeItem","minWidth","apiKey","process","TINY_KEY","onEditorChange","content","editor","initialValue","init","height","menubar","plugins","toolbar","LoginForm","user","setUser","password","setPassword","error","setError","setItem","setLogin","username","outline","padding","placeholder","NavBar","backgroundColor","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","aria-label","App","path","exact","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4c84905c.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nfunction Home(props) {\n    const [posts, setPosts] = useState([]);\n    const [selectedPost, setSelectedPost] = useState(-1);\n\n    useEffect(()=> {\n        fetch('https://quiet-retreat-88465.herokuapp.com/blog', {\n            method: 'GET'\n        })\n        .then(res => res.json())\n        .then(res => {setPosts(res.reverse())});\n    }, []);\n\n    useEffect(() => {\n        if(posts.length > 0) {\n            const selectedIndex = Math.floor(Math.random() * posts.length);\n            setSelectedPost(selectedIndex);\n        }\n    }, [posts])\n\n    return (\n            <div className='container'>\n                <div className='row d-flex justify-content-evenly'>\n                    <div className='col-12 col-md-6'>\n\n                    <h2 className='h2 text-center'>Random Post</h2>\n\n                <div >{selectedPost !== -1 ?\n                <div className=\"card\"> \n                    <div className=\"card-body\">\n                        <h5 className=\"card-title fs-2\">{posts[selectedPost].title}</h5>\n                        <p className=\"card-text fs-5 lh-base\" dangerouslySetInnerHTML={{__html: posts[selectedPost].post}}></p>\n                        <Link to={'/blog/' + posts[selectedPost]._id} className='stretched-link'></Link>\n                    </div>\n                    </div> : \n                        <p>\"Loading\"</p>}\n                    </div>\n                    </div>\n\n\n\n\n                    <div className='col-12 col-md-3'>\n                    <div ><p className='fs-2'>Recent Posts</p>\n                            <hr/>\n                        {selectedPost !== -1 ? \n                        \n                        <ul className='recent-posts lh-lg'>\n                            <li><Link to={'/blog/'+posts[0]._id}>{posts[0].title}</Link></li>\n                            <hr/>\n                            <li><Link to={'/blog/'+posts[1]._id}>{posts[1].title}</Link></li>\n                            <hr/>\n                            <li><Link to={'/blog/'+posts[2]._id}>{posts[2].title}</Link></li></ul>\n                        :\n                                \"loading...\"\n                        }</div>\n                    </div>\n                </div>\n            \n            \n            \n            \n            \n            \n            \n            \n            \n            </div>\n\n\n            \n    )\n}\n\nexport default Home;","import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport '../styles/index.css'\nimport {DateTime} from \"luxon\";\n\nfunction Blog(props) {\n    const [token, setToken] = useState('');\n    const [posts, setPosts] = useState([]);\n\n    useEffect(()=> {\n        const tempToken = localStorage.getItem('token');\n        setToken(tempToken);    \n\n        \n        fetch('https://quiet-retreat-88465.herokuapp.com/blog', {\n            method: 'GET'\n        })\n        .then(res => res.json())\n        .then(res => {setPosts(res.reverse())});\n    }, []);\n\n    useEffect(() => {\n        if(token !== '') {\n        }\n    }, [token]);\n\n\n    return (\n        <div className=\"container\">\n            <div className='row d-flex justify-content-center '>\n                <div className='col-12 col-md-8'>\n                {posts.lengths === 0 ? <div>Loading posts</div> : posts.map((value, index) => {\n                \n                return <div key={value._id} className=\"card my-3 p-3 shadow-lg\">\n                        <div className='card-body'>\n                            <h5 className='card-title fs-1'>{value.title}</h5>\n                             <p>Posted {DateTime.fromISO(value.postdate).toFormat('LLL dd, yyyy')}</p>\n                             <hr/>\n                            <p className='card-text lh-base fs-5' dangerouslySetInnerHTML={{__html: value.post}}></p>\n                            <Link to={'/blog/'+value._id} key={value._id} className='stretched-link'></Link> \n                        </div>\n                    </div>\n                \n            })}\n                </div>\n            </div>\n            \n        </div>\n    )\n}\n\nexport default Blog;","import React, { useEffect, useState } from \"react\";\nimport { Redirect, useParams, Link } from \"react-router-dom\";\nimport '../styles/index.css';\nimport { DateTime } from \"luxon\";\n\nfunction BlogPost(props) {\n    const [post, setPost] = useState();\n    const [commentsList, setCommentsList] = useState([]);\n    const [message, setMessage] = useState(\"\");\n    const {id} = useParams();\n    const [token, setToken] = useState('');\n    const [deleted, setDeleted] = useState(false);\n\n    useEffect(()=> {\n        const tempToken = localStorage.getItem('token');\n        if (tempToken !== null) {\n            setToken(tempToken);\n        }\n\n        fetch('https://quiet-retreat-88465.herokuapp.com/blog/'+id, {\n            method: 'GET'\n        })\n        .then(res => res.json())\n        .then(res => {setPost(res)});\n\n        loadComments();\n    }, []);\n\n    const loadComments = () => {\n        fetch('https://quiet-retreat-88465.herokuapp.com/blog/'+id+'/comments', {\n            method: 'GET'\n        })\n        .then(res => res.json())\n        .then(res => {setCommentsList(res.reverse())});\n    }\n\n    useEffect(()=> {\n    }, [post]);\n\n    function submitForm(e) {\n        e.preventDefault();\n        fetch('https://quiet-retreat-88465.herokuapp.com/blog/'+id, {\n            method: 'POST',\n            body: JSON.stringify({comment: message}),\n            headers: { 'Content-Type': 'application/json' },\n            mode: 'cors'\n        })\n        .then(res=> {\n            if(res.status === 200) {\n                loadComments();\n            }\n        })\n    }\n\n    const deletePost = (e) => {\n        e.preventDefault();\n        fetch('https://quiet-retreat-88465.herokuapp.com/blog/'+id, {\n            method: 'DELETE',\n            headers: { 'Authorization' : 'Bearer ' + token },\n            mode: 'cors'\n        })\n        .then(res=> {\n            if(res.status === 200) {\n                setDeleted(true);\n            }\n        })\n    }\n\n    const checkDeleted = () => {\n        if(deleted) {\n            return <Redirect push to='/blog'/>\n        }\n    }\n\n    const deleteComment = (comment_id) => {\n        fetch('https://quiet-retreat-88465.herokuapp.com/blog/'+id+\"/comment/\"+comment_id, {\n            method: 'DELETE',\n            headers: { 'Authorization' : 'Bearer ' + token },\n            mode: 'cors'\n        })\n        .then(res=> {\n            if(res.status === 200) {\n                loadComments();\n            }\n        })\n    }\n\n    return (\n        <div className=\"container\">\n            {checkDeleted()}\n            <div className='row d-flex justify-content-center '>\n                <div className='col-8'>\n                        {typeof post === 'undefined' ? \"Loading\" : post.map((value) => {\n                    return <div key={id} className='post'>\n                        <h1 className='h1' style={{marginBottom: \"2vh\"}}>{value.title}</h1>\n                        <h3>Posted {DateTime.fromISO(value.postdate).toFormat('LLL dd, yyyy')}</h3>\n                    <hr/><p className='message fs-5 lh-base' dangerouslySetInnerHTML={{__html: value.post}}></p>\n                    <div style={{marginTop: \"4vh\", display:'flex'}}>\n                        {token === '' ? null : <p onClick={deletePost} style={{cursor:\"pointer\", marginRight:\"2vw\"}}>Delete Post</p>}\n                    {token === '' ? null : <Link to={`/blog/${id}/edit`} style={{textDecoration:'none', color:'black'}}>Edit Post</Link>}</div></div>\n                })}\n                <form onSubmit={submitForm}>\n                    <div className=\"mb-3\">\n                        <label htmlFor=\"comment-box\" className=\"form-label\"></label>\n                        <textarea className=\"form-control\" name='comment' required onChange={e => setMessage(e.target.value)} id=\"comment-box\" rows=\"3\"></textarea>\n                    </div>\n                    <input type='submit' value='Post Comment'></input>\n                </form>\n                <div className='commentArea'> \n                    <p style={{textAlign:\"center\", marginTop:\"3vh\"}}>Comments</p>\n                    <hr></hr>\n                    {typeof commentsList === 'undefined' ? \"Loading\" : commentsList.map((value) => {\n                        return <div className=\"mb-4\" key={value._id}>\n                            <p className='fs-5'>{value.message}</p>\n                            {token === '' ? null : <button style={{cursor:\"pointer\"}} value={value._id} onClick={() => {deleteComment(value._id)}}>Delete</button>}         \n                        </div>\n                    })}\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default BlogPost;","import React, { useEffect, useState } from \"react\";\nimport { Redirect, useParams } from 'react-router-dom';\nimport { Editor } from '@tinymce/tinymce-react';\nimport '@tinymce/tinymce-react'\nimport '../styles/index.css'\n\nfunction BlogForm(props) {\n    const [token, setToken] = useState('');\n    const [post, setPost] = useState('');\n    const [title, setTitle] = useState('');\n    const [loggedIn, setLoggedIn] = useState(true);\n    const [posted, setPosted] = useState(false);\n    const {id} = useParams();\n    const [refresh, setRefresh] = useState(false);\n\n    const [blogData, setBlogData] = useState();\n\n    useEffect(()=> {\n        if(id) {\n            fetch('https://quiet-retreat-88465.herokuapp.com/blog/' + id, {\n                method: 'GET',\n                mode: 'cors'\n            })\n            .then(res => {\n                if(res.status === 200) {\n                    return res.json();\n                }    \n            })\n            .then(res => setBlogData(res))\n        }\n\n        const tempToken = localStorage.getItem('token');\n        if(tempToken === null) {\n            setLoggedIn(false);\n        }\n        else {\n            setToken(tempToken);\n        }\n    }, []);\n\n    useEffect(() => {\n        if(blogData) {\n            setPost(blogData[0].post);\n        }\n    }, [blogData])\n\n    useEffect(() => {\n        if(token !== '') {\n        }\n    }, [token]);\n\n    function postBlogPost(e) {\n        e.preventDefault();\n        fetch('https://quiet-retreat-88465.herokuapp.com/blog', {\n            method: 'POST',\n            body: JSON.stringify({post:post, title:title}),\n            headers: { 'Content-Type': 'application/json',\n            'Authorization' : 'Bearer ' + token },\n            mode: 'cors'\n        })\n        .then(res => {\n            if(res.status === 401) { // token expired\n                localStorage.removeItem('token');\n            }\n            if(res.status === 200) {\n                setPosted(true);\n            }    \n        })\n    }\n\n    const loginCheck = () => {\n        if(!loggedIn) \n            return <Redirect push to='/login'/>\n    }\n\n    const postCheck = () => {\n        if(posted) {\n            return <Redirect push to='/blog'/>\n        }\n    }\n\n    const refreshCheck = () => {\n        if(refresh) {\n            return <Redirect push to={`/blog/${id}`}/>;\n        }\n    }\n\n    const updateBlogPost = (e) => {\n        e.preventDefault();\n        fetch('https://quiet-retreat-88465.herokuapp.com/blog/'+id, {\n            method: 'PUT',\n            body: JSON.stringify({post:post, title:title}),\n            headers: { 'Content-Type': 'application/json',\n            'Authorization' : 'Bearer ' + token },\n            mode: 'cors'\n        })\n        .then(res => {\n            if(res.status === 401) { // token expired\n                localStorage.removeItem('token');\n            }\n            if(res.status === 200) {\n                if(blogData) {\n                    setRefresh(true);\n                } else {\n                    setPosted(true);\n                }\n            }    \n        })\n    }\n\n    return (\n        <div className=\"container\">\n            <div className='row'>\n                <div className='col'>\n            {loginCheck()}\n            {postCheck()}\n            {refreshCheck()}\n            <h1 className='text-center h1'>{blogData ? 'Update Post' : 'Create Post'}</h1>\n            \n            <form  onSubmit={blogData ? updateBlogPost : postBlogPost}>\n                {blogData ? \n                    <div>\n                        <label htmlFor='prev-title'>Previous Title:</label><br/>\n                        <input type='text' style={{minWidth:\"30vw\", marginBottom:\"3vh\"}} value={blogData[0].title} required={true}></input>\n                    </div>\n                : null}\n                    <div>\n                    <label htmlFor='title'>Title:</label><br/>\n                    <input type='text' style={{minWidth:\"30vw\", marginBottom:\"3vh\"}} required={true} onChange={e => setTitle(e.target.value)}></input>\n                    </div>\n                <Editor apiKey={process.env.TINY_KEY}\n                    onEditorChange={(content, editor) => setPost(content)}\n                    initialValue={blogData ? blogData[0].post : \"\"}\n                    init={{\n                    height: 500,\n                    menubar: 'insert',\n                    plugins: [\n                        'advlist autolink lists link image charmap print preview anchor',\n                        'searchreplace visualblocks code fullscreen',\n                        'insertdatetime media table paste code help wordcount media'\n                    ],\n                    toolbar:\n                        'undo redo | formatselect | bold italic backcolor | \\\n                        alignleft aligncenter alignright alignjustify | \\\n                        bullist numlist outdent indent | removeformat | help | image | media | link'\n                    }}\n                />\n                <input type='submit' value='submit'></input>\n            </form>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default BlogForm;","import React, { useEffect, useState } from \"react\";\nimport '../styles/index.css';\nimport { Redirect } from 'react-router-dom';\n\nfunction LoginForm(props) {\n    const [user, setUser] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [token, setToken] = useState('');\n    const [error, setError] = useState(false);\n    const [loggedIn, setLoggedIn] = useState(false);\n\n    function login(e){\n        e.preventDefault();\n        fetch('https://quiet-retreat-88465.herokuapp.com/login', {\n            method: 'POST',\n            body: JSON.stringify({username: user, password: password}),\n            headers: { 'Content-Type': 'application/json' },\n            mode: 'cors'\n        })\n        .then(res => {\n            if(res.status === 400){\n                localStorage.removeItem('token');\n                setError(true);\n            }\n            else {\n                return res.json()\n            }\n        })\n        .then(res => {\n            if(res) {\n                setToken(res.token);\n            }\n        })\n        \n    }\n\n    useEffect(() => {\n        if(token !== '') {\n            localStorage.setItem('token', token);\n            props.setLogin(true);\n            setLoggedIn(true);\n        }\n    }, [token]);\n\n    const loginCheck = () => {\n        if(loggedIn) {\n            return <Redirect push to={`/blog`}/>;\n        }\n    }\n\n    return (\n        <div className=\"container\">\n            <div className='row d-flex justify-content-center'>\n                <div className='col-6'>\n                {loginCheck()}\n            <form onSubmit={login} className='login-form text-center' style={{outline: \"3px solid black\", padding:\"2vw\"}}>\n                <h1 className=' h1 mb-3 text-center'>Login Form</h1>\n                <input type=\"text\" \n                className='form-control  mb-3'\n                name=\"username\" \n                required\n                placeholder='username'\n                onChange={e => setUser(e.target.value)}></input>\n                <input type=\"password\"\n                className='form-control mb-3' \n                name=\"password\"\n                placeholder='password'\n                required\n                onChange={e => setPassword(e.target.value)}></input>\n                <input type=\"submit\" value='login'></input>\n            </form>\n            {error ? <p>Failed to log in. Please try again.</p> : null}\n                </div>\n\n            </div>\n            \n        </div>\n    )\n}\n\nexport default LoginForm;","import {Link } from \"react-router-dom\";\nimport React, { useEffect } from \"react\";\n\nconst NavBar = (props) => {\n    useEffect(() => {\n    }, [])\n\n    function logOut() {\n        localStorage.removeItem('token');\n        props.setLogin(false);\n    }\n\n    return (\n        <nav className='navbar navbar-light navbar-expand-md shadow mb-5' style={{backgroundColor:\"#44b787\"}}>\n            <div className='container'>\n                <Link to='/' className='navbar-brand'>Home</Link>\n                <button className='navbar-toggler' type='button' data-bs-toggle='collapse' data-bs-target='#navContent' aria-controls='navContent' aria-expanded='false' aria-label='Toggle navigation'>\n                    <span className='navbar-toggler-icon'></span>\n                </button>\n                <div className='collapse navbar-collapse d-flex justify-content-end' id='navContent'>\n                    <ul className='navbar-nav'>\n                        <li className='nav-item'>\n                            <Link to='/blog' className='nav-link'>Blog</Link>\n                        </li>\n                        {props.loggedIn ? <li className='nav-item'><Link to='/blog/create' className='nav-link'>Create</Link></li> : null}\n                        {!props.loggedIn ? <li className='nav-item'><Link to='/login' className='nav-link'>Login</Link></li> : <li onClick={logOut} className='nav-item nav-link' style={{cursor:'pointer'}}>Log Out</li>}\n                    </ul>\n                </div>\n            </div>\n        </nav>\n    )\n}\n\nexport default NavBar;","import React, { useEffect, useState } from \"react\";\nimport Home from './components/Home';\nimport Blog from './components/Blog';\nimport BlogPost from './components/BlogPost';\nimport BlogForm from './components/BlogForm';\nimport LoginForm from './components/LoginForm';\nimport NavBar from './components/NavBar';\nimport {\n  Switch,\n  Route,\n  BrowserRouter,\n} from \"react-router-dom\";\n\nfunction App() {\n  const [loggedIn, setLoggedIn] = useState(false);\n  useEffect(() => {\n    if(localStorage.getItem('token') !== null) {\n      fetch('https://quiet-retreat-88465.herokuapp.com/verify',{\n        method: 'get',\n        headers: { 'Authorization' : 'Bearer ' + localStorage.getItem('token') },\n        mode: 'cors'\n    })\n    .then(res => {\n      if (res.status === 200) {\n        setLoggedIn(true);\n      }\n      else {\n        setLoggedIn(false);\n        localStorage.removeItem('token');\n      }\n    })\n    }\n  }, []);\n  \n  function setLogin(status) {\n    setLoggedIn(status);\n  }\n\n\n  useEffect(() => {\n  }, [loggedIn])\n\n  return (\n    <div className=\"App\">\n      <BrowserRouter>\n      <NavBar setLogin={setLogin} loggedIn={loggedIn}/>\n      <Switch>\n          <Route path='/' exact component={Home}/>\n          <Route path='/blog/' exact><Blog /></Route>\n          <Route path='/blog/create' exact><BlogForm /></Route>\n          <Route path='/blog/:id/edit' exact><BlogForm /></Route>\n          <Route path='/blog/:id' exact><BlogPost /></Route>\n          <Route path='/login' exact><LoginForm setLogin={setLogin}/></Route>\n          </Switch>\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n","\nimport './styles/index.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'; \n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}
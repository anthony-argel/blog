{"version":3,"sources":["components/Home.js","components/Blog.js","components/BlogPost.js","components/BlogForm.js","components/LoginForm.js","components/NavBar.js","App.js","index.js"],"names":["Home","props","useState","posts","setPosts","selectedPost","setSelectedPost","useEffect","fetch","method","then","res","json","reverse","length","selectedIndex","Math","floor","random","className","title","DateTime","fromISO","postdate","toFormat","dangerouslySetInnerHTML","__html","post","to","_id","class","role","Blog","token","setToken","tempToken","localStorage","getItem","lengths","map","value","index","substr","BlogPost","setPost","commentsList","setCommentsList","message","setMessage","id","useParams","deleted","setDeleted","loadComments","deletePost","e","preventDefault","headers","mode","status","push","checkDeleted","style","marginBottom","marginTop","display","onClick","cursor","marginRight","textDecoration","color","onSubmit","body","JSON","stringify","comment","htmlFor","name","required","onChange","target","rows","type","textAlign","comment_id","BlogForm","setTitle","loggedIn","setLoggedIn","posted","setPosted","refresh","setRefresh","blogData","setBlogData","loginCheck","postCheck","refreshCheck","removeItem","minWidth","apiKey","process","TINY_KEY","onEditorChange","content","editor","initialValue","init","height","menubar","plugins","toolbar","LoginForm","user","setUser","password","setPassword","error","setError","setItem","setLogin","username","outline","padding","placeholder","NavBar","backgroundColor","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","aria-label","App","hashType","path","exact","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2d86f5f9.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport {DateTime} from \"luxon\";\n\nfunction Home(props) {\n    const [posts, setPosts] = useState([]);\n    const [selectedPost, setSelectedPost] = useState(-1);\n\n    useEffect(()=> {\n        fetch('https://quiet-retreat-88465.herokuapp.com/blog', {\n            method: 'GET'\n        })\n        .then(res => res.json())\n        .then(res => {setPosts(res.reverse())});\n    }, []);\n\n    useEffect(() => {\n        if(posts.length > 0) {\n            const selectedIndex = Math.floor(Math.random() * posts.length);\n            setSelectedPost(selectedIndex);\n        }\n    }, [posts])\n\n    return (\n            <div className='container'>\n                <div className='row d-flex justify-content-evenly'>\n                    <div className='col-12 col-md-6'>\n\n                    <h2 className='h2 text-center'>Random Post</h2>\n\n                <div >{selectedPost !== -1 ?\n                <div className=\"card\"> \n                    <div className=\"card-body\">\n                        <h5 className=\"card-title fs-2\">{posts[selectedPost].title}</h5>\n                            <p>Posted {DateTime.fromISO(posts[selectedPost].postdate).toFormat('LLL dd, yyyy')}</p>\n                            <hr/>\n                        <p className=\"card-text fs-5 lh-base\" dangerouslySetInnerHTML={{__html: posts[selectedPost].post}}></p>\n                        <Link to={'/blog/' + posts[selectedPost]._id} className='stretched-link'></Link>\n                    </div>\n                    </div> : \n                    <div class=\"spinner-border text-success\" role=\"status\">\n                    <span class=\"visually-hidden\">Loading...</span>\n                    </div>}\n                    </div>\n                    </div>\n\n\n\n\n                    <div className='col-12 col-md-3'>\n                    <div ><p className='fs-2'>Recent Posts</p>\n                            <hr/>\n                        {selectedPost !== -1 ? \n                        \n                        <ul className='recent-posts lh-lg'>\n                            <li><Link to={'/blog/'+posts[0]._id}>{posts[0].title}</Link></li>\n                            <hr/>\n                            <li><Link to={'/blog/'+posts[1]._id}>{posts[1].title}</Link></li>\n                            <hr/>\n                            <li><Link to={'/blog/'+posts[2]._id}>{posts[2].title}</Link></li></ul>\n                        :\n                        <div class=\"spinner-border text-success\" role=\"status\">\n                          <span class=\"visually-hidden\">Loading...</span>\n                        </div>\n                        }</div>\n                    </div>\n                </div>\n            \n            \n            \n            \n            \n            \n            \n            \n            \n            </div>\n\n\n            \n    )\n}\n\nexport default Home;","import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport '../styles/index.css'\nimport {DateTime} from \"luxon\";\n\nfunction Blog(props) {\n    const [token, setToken] = useState('');\n    const [posts, setPosts] = useState([]);\n\n    useEffect(()=> {\n        const tempToken = localStorage.getItem('token');\n        setToken(tempToken);    \n\n        \n        fetch('https://quiet-retreat-88465.herokuapp.com/blog', {\n            method: 'GET'\n        })\n        .then(res => res.json())\n        .then(res => {setPosts(res.reverse())});\n    }, []);\n\n    useEffect(() => {\n        if(token !== '') {\n        }\n    }, [token]);\n\n\n    return (\n        <div className=\"container\">\n            <div className='row d-flex justify-content-center '>\n                <div className='col-12 col-md-8'>\n                {posts.lengths === 0 ? \n                <div class=\"spinner-border text-success\" role=\"status\">\n                <span class=\"visually-hidden\">Loading...</span>\n                </div>\n                : posts.map((value, index) => {\n                \n                return <div key={value._id} className=\"card my-3 p-3 shadow-lg\">\n                        <div className='card-body'>\n                            <h5 className='card-title fs-1'>{value.title}</h5>\n                             <p>Posted {DateTime.fromISO(value.postdate).toFormat('LLL dd, yyyy')}</p>\n                             <hr/>\n                            <p className='card-text lh-base fs-5' dangerouslySetInnerHTML={value.post.length > 700 ? {__html: value.post.substr(0,700) + '... <br/>(See more)'} : {__html: value.post}}></p>\n                            <Link to={'/blog/'+value._id} key={value._id} className='stretched-link'></Link> \n                        </div>\n                    </div>\n                \n            })}\n                </div>\n            </div>\n            \n        </div>\n    )\n}\n\nexport default Blog;","import React, { useEffect, useState } from \"react\";\nimport { Redirect, useParams, Link } from \"react-router-dom\";\nimport '../styles/index.css';\nimport { DateTime } from \"luxon\";\n\nfunction BlogPost(props) {\n    const [post, setPost] = useState();\n    const [commentsList, setCommentsList] = useState([]);\n    const [message, setMessage] = useState(\"\");\n    const {id} = useParams();\n    const [token, setToken] = useState('');\n    const [deleted, setDeleted] = useState(false);\n\n    useEffect(()=> {\n        const tempToken = localStorage.getItem('token');\n        if (tempToken !== null) {\n            setToken(tempToken);\n        }\n\n        fetch('https://quiet-retreat-88465.herokuapp.com/blog/'+id, {\n            method: 'GET'\n        })\n        .then(res => res.json())\n        .then(res => {setPost(res)});\n\n        loadComments();\n    }, []);\n\n    const loadComments = () => {\n        fetch('https://quiet-retreat-88465.herokuapp.com/blog/'+id+'/comments', {\n            method: 'GET'\n        })\n        .then(res => res.json())\n        .then(res => {setCommentsList(res.reverse())});\n    }\n\n    useEffect(()=> {\n    }, [post]);\n\n    function submitForm(e) {\n        e.preventDefault();\n        fetch('https://quiet-retreat-88465.herokuapp.com/blog/'+id, {\n            method: 'POST',\n            body: JSON.stringify({comment: message}),\n            headers: { 'Content-Type': 'application/json' },\n            mode: 'cors'\n        })\n        .then(res=> {\n            if(res.status === 200) {\n                loadComments();\n            }\n        })\n    }\n\n    const deletePost = (e) => {\n        e.preventDefault();\n        fetch('https://quiet-retreat-88465.herokuapp.com/blog/'+id, {\n            method: 'DELETE',\n            headers: { 'Authorization' : 'Bearer ' + token },\n            mode: 'cors'\n        })\n        .then(res=> {\n            if(res.status === 200) {\n                setDeleted(true);\n            }\n        })\n    }\n\n    const checkDeleted = () => {\n        if(deleted) {\n            return <Redirect push to='/blog'/>\n        }\n    }\n\n    const deleteComment = (comment_id) => {\n        fetch('https://quiet-retreat-88465.herokuapp.com/blog/'+id+\"/comment/\"+comment_id, {\n            method: 'DELETE',\n            headers: { 'Authorization' : 'Bearer ' + token },\n            mode: 'cors'\n        })\n        .then(res=> {\n            if(res.status === 200) {\n                loadComments();\n            }\n        })\n    }\n\n    return (\n        <div className=\"container\">\n            {checkDeleted()}\n            <div className='row d-flex justify-content-center '>\n                <div className='col-11 col-lg-8'>\n                        {typeof post === 'undefined' ? \n                    <div class=\"spinner-border text-success\" role=\"status\">\n                    <span class=\"visually-hidden\">Loading...</span>\n                    </div>\n                    : post.map((value) => {\n                    return <div key={id} className='post'>\n                        <h1 className='h1' style={{marginBottom: \"2vh\"}}>{value.title}</h1>\n                        <h3>Posted {DateTime.fromISO(value.postdate).toFormat('LLL dd, yyyy')}</h3>\n                    <hr/><p className='message fs-5 lh-base' dangerouslySetInnerHTML={{__html: value.post}}></p>\n                    <div style={{marginTop: \"4vh\", display:'flex'}}>\n                        {token === '' ? null : <p onClick={deletePost} style={{cursor:\"pointer\", marginRight:\"2vw\"}}>Delete Post</p>}\n                    {token === '' ? null : <Link to={`/blog/${id}/edit`} style={{textDecoration:'none', color:'black'}}>Edit Post</Link>}</div></div>\n                })}\n                <form onSubmit={submitForm}>\n                    <div className=\"mb-3\">\n                        <label htmlFor=\"comment-box\" className=\"form-label\"></label>\n                        <textarea className=\"form-control\" name='comment' required onChange={e => setMessage(e.target.value)} id=\"comment-box\" rows=\"3\"></textarea>\n                    </div>\n                    <input type='submit' value='Post Comment'></input>\n                </form>\n                <div className='commentArea'> \n                    <p style={{textAlign:\"center\", marginTop:\"3vh\"}}>Comments</p>\n                    <hr></hr>\n                    {typeof commentsList === 'undefined' ? \"Loading\" : commentsList.map((value) => {\n                        return <div className=\"mb-4\" key={value._id}>\n                            <p className='fs-5'>{value.message}</p>\n                            {token === '' ? null : <button style={{cursor:\"pointer\"}} value={value._id} onClick={() => {deleteComment(value._id)}}>Delete</button>}         \n                        </div>\n                    })}\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default BlogPost;","import React, { useEffect, useState } from \"react\";\nimport { Redirect, useParams } from 'react-router-dom';\nimport { Editor } from '@tinymce/tinymce-react';\nimport '@tinymce/tinymce-react'\nimport '../styles/index.css'\n\nfunction BlogForm(props) {\n    const [token, setToken] = useState('');\n    const [post, setPost] = useState('');\n    const [title, setTitle] = useState('');\n    const [loggedIn, setLoggedIn] = useState(true);\n    const [posted, setPosted] = useState(false);\n    const {id} = useParams();\n    const [refresh, setRefresh] = useState(false);\n\n    const [blogData, setBlogData] = useState();\n\n    useEffect(()=> {\n        if(id) {\n            fetch('https://quiet-retreat-88465.herokuapp.com/blog/' + id, {\n                method: 'GET',\n                mode: 'cors'\n            })\n            .then(res => {\n                if(res.status === 200) {\n                    return res.json();\n                }    \n            })\n            .then(res => setBlogData(res))\n        }\n\n        const tempToken = localStorage.getItem('token');\n        if(tempToken === null) {\n            setLoggedIn(false);\n        }\n        else {\n            setToken(tempToken);\n        }\n    }, []);\n\n    useEffect(() => {\n        if(blogData) {\n            setPost(blogData[0].post);\n        }\n    }, [blogData])\n\n    useEffect(() => {\n        if(token !== '') {\n        }\n    }, [token]);\n\n    function postBlogPost(e) {\n        e.preventDefault();\n        fetch('https://quiet-retreat-88465.herokuapp.com/blog', {\n            method: 'POST',\n            body: JSON.stringify({post:post, title:title}),\n            headers: { 'Content-Type': 'application/json',\n            'Authorization' : 'Bearer ' + token },\n            mode: 'cors'\n        })\n        .then(res => {\n            if(res.status === 401) { // token expired\n                localStorage.removeItem('token');\n            }\n            if(res.status === 200) {\n                setPosted(true);\n            }    \n        })\n    }\n\n    const loginCheck = () => {\n        if(!loggedIn) \n            return <Redirect push to='/login'/>\n    }\n\n    const postCheck = () => {\n        if(posted) {\n            return <Redirect push to='/blog'/>\n        }\n    }\n\n    const refreshCheck = () => {\n        if(refresh) {\n            return <Redirect push to={`/blog/${id}`}/>;\n        }\n    }\n\n    const updateBlogPost = (e) => {\n        e.preventDefault();\n        fetch('https://quiet-retreat-88465.herokuapp.com/blog/'+id, {\n            method: 'PUT',\n            body: JSON.stringify({post:post, title:title}),\n            headers: { 'Content-Type': 'application/json',\n            'Authorization' : 'Bearer ' + token },\n            mode: 'cors'\n        })\n        .then(res => {\n            if(res.status === 401) { // token expired\n                localStorage.removeItem('token');\n            }\n            if(res.status === 200) {\n                if(blogData) {\n                    setRefresh(true);\n                } else {\n                    setPosted(true);\n                }\n            }    \n        })\n    }\n\n    return (\n        <div className=\"container\">\n            <div className='row'>\n                <div className='col'>\n            {loginCheck()}\n            {postCheck()}\n            {refreshCheck()}\n            <h1 className='text-center h1'>{blogData ? 'Update Post' : 'Create Post'}</h1>\n            \n            <form  onSubmit={blogData ? updateBlogPost : postBlogPost}>\n                {blogData ? \n                    <div>\n                        <label htmlFor='prev-title'>Previous Title:</label><br/>\n                        <input type='text' style={{minWidth:\"30vw\", marginBottom:\"3vh\"}} value={blogData[0].title} required={true}></input>\n                    </div>\n                : null}\n                    <div>\n                    <label htmlFor='title'>Title:</label><br/>\n                    <input type='text' style={{minWidth:\"30vw\", marginBottom:\"3vh\"}} required={true} onChange={e => setTitle(e.target.value)}></input>\n                    </div>\n                <Editor apiKey={process.env.TINY_KEY}\n                    onEditorChange={(content, editor) => setPost(content)}\n                    initialValue={blogData ? blogData[0].post : \"\"}\n                    init={{\n                    height: 500,\n                    menubar: 'insert',\n                    plugins: [\n                        'advlist autolink lists link image charmap print preview anchor',\n                        'searchreplace visualblocks code fullscreen',\n                        'insertdatetime media table paste code help wordcount media'\n                    ],\n                    toolbar:\n                        'undo redo | formatselect | bold italic backcolor | \\\n                        alignleft aligncenter alignright alignjustify | \\\n                        bullist numlist outdent indent | removeformat | help | image | media | link'\n                    }}\n                />\n                <input type='submit' value='submit'></input>\n            </form>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default BlogForm;","import React, { useEffect, useState } from \"react\";\nimport '../styles/index.css';\nimport { Redirect } from 'react-router-dom';\n\nfunction LoginForm(props) {\n    const [user, setUser] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [token, setToken] = useState('');\n    const [error, setError] = useState(false);\n    const [loggedIn, setLoggedIn] = useState(false);\n\n    function login(e){\n        e.preventDefault();\n        fetch('https://quiet-retreat-88465.herokuapp.com/login', {\n            method: 'POST',\n            body: JSON.stringify({username: user, password: password}),\n            headers: { 'Content-Type': 'application/json' },\n            mode: 'cors'\n        })\n        .then(res => {\n            if(res.status === 400){\n                localStorage.removeItem('token');\n                setError(true);\n            }\n            else {\n                return res.json()\n            }\n        })\n        .then(res => {\n            if(res) {\n                setToken(res.token);\n            }\n        })\n        \n    }\n\n    useEffect(() => {\n        if(token !== '') {\n            localStorage.setItem('token', token);\n            props.setLogin(true);\n            setLoggedIn(true);\n        }\n    }, [token]);\n\n    const loginCheck = () => {\n        if(loggedIn) {\n            return <Redirect push to={`/blog`}/>;\n        }\n    }\n\n    return (\n        <div className=\"container\">\n            <div className='row d-flex justify-content-center'>\n                <div className='col-6'>\n                {loginCheck()}\n            <form onSubmit={login} className='login-form text-center' style={{outline: \"3px solid black\", padding:\"2vw\"}}>\n                <h1 className=' h1 mb-3 text-center'>Login Form</h1>\n                <input type=\"text\" \n                className='form-control  mb-3'\n                name=\"username\" \n                required\n                placeholder='username'\n                onChange={e => setUser(e.target.value)}></input>\n                <input type=\"password\"\n                className='form-control mb-3' \n                name=\"password\"\n                placeholder='password'\n                required\n                onChange={e => setPassword(e.target.value)}></input>\n                <input type=\"submit\" value='login'></input>\n            </form>\n            {error ? <p>Failed to log in. Please try again.</p> : null}\n                </div>\n\n            </div>\n            \n        </div>\n    )\n}\n\nexport default LoginForm;","import {Link } from \"react-router-dom\";\nimport React, { useEffect } from \"react\";\n\nconst NavBar = (props) => {\n    useEffect(() => {\n    }, [])\n\n    function logOut() {\n        localStorage.removeItem('token');\n        props.setLogin(false);\n    }\n\n    return (\n        <nav className='navbar navbar-light navbar-expand-md shadow mb-5' style={{backgroundColor:\"#44b787\"}}>\n            <div className='container'>\n                <Link to='/' className='navbar-brand'>Home</Link>\n                <button className='navbar-toggler' type='button' data-bs-toggle='collapse' data-bs-target='#navContent' aria-controls='navContent' aria-expanded='false' aria-label='Toggle navigation'>\n                    <span className='navbar-toggler-icon'></span>\n                </button>\n                <div className='collapse navbar-collapse d-flex justify-content-end' id='navContent'>\n                    <ul className='navbar-nav'>\n                        <li className='nav-item'>\n                            <Link to='/blog' className='nav-link'>Blog</Link>\n                        </li>\n                        {props.loggedIn ? <li className='nav-item'><Link to='/blog/create' className='nav-link'>Create</Link></li> : null}\n                        {!props.loggedIn ? <li className='nav-item'><Link to='/login' className='nav-link'>Login</Link></li> : <li onClick={logOut} className='nav-item nav-link' style={{cursor:'pointer'}}>Log Out</li>}\n                    </ul>\n                </div>\n            </div>\n        </nav>\n    )\n}\n\nexport default NavBar;","import React, { useEffect, useState } from \"react\";\nimport Home from './components/Home';\nimport Blog from './components/Blog';\nimport BlogPost from './components/BlogPost';\nimport BlogForm from './components/BlogForm';\nimport LoginForm from './components/LoginForm';\nimport NavBar from './components/NavBar';\nimport {\n  Switch,\n  Route,\n  HashRouter,\n} from \"react-router-dom\";\n\nfunction App() {\n  const [loggedIn, setLoggedIn] = useState(false);\n  useEffect(() => {\n    if(localStorage.getItem('token') !== null) {\n      fetch('https://quiet-retreat-88465.herokuapp.com/verify',{\n        method: 'get',\n        headers: { 'Authorization' : 'Bearer ' + localStorage.getItem('token') },\n        mode: 'cors'\n    })\n    .then(res => {\n      if (res.status === 200) {\n        setLoggedIn(true);\n      }\n      else {\n        setLoggedIn(false);\n        localStorage.removeItem('token');\n      }\n    })\n    }\n  }, []);\n  \n  function setLogin(status) {\n    setLoggedIn(status);\n  }\n\n\n  useEffect(() => {\n  }, [loggedIn])\n\n  return (\n    <div className=\"App\">\n      <HashRouter hashType={'slash'}>\n      <NavBar setLogin={setLogin} loggedIn={loggedIn}/>\n      <Switch>\n          <Route path='/' exact component={Home}/>\n          <Route path='/blog/' exact><Blog /></Route>\n          <Route path='/blog/create' exact><BlogForm /></Route>\n          <Route path='/blog/:id/edit' exact><BlogForm /></Route>\n          <Route path='/blog/:id' exact><BlogPost /></Route>\n          <Route path='/login' exact><LoginForm setLogin={setLogin}/></Route>\n          </Switch>\n      </HashRouter>\n    </div>\n  );\n}\n\nexport default App;","\nimport './styles/index.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'; \n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}